{"version":3,"sources":["webpack:///./node_modules/@popmotion/easing/dist/easing.es.js","webpack:///./src/components/parallax.tsx","webpack:///./src/components/fluid-type.ts","webpack:///./src/components/cover.tsx","webpack:///./src/templates/gallery.tsx"],"names":["reversed","easing","p","easeIn","power","Math","pow","createExpoIn","easeOut","ParallaxWrapper","styled","div","ParallaxInner","Parallax","children","interpolate","boundary","viewport","useGrid","ref","React","useRef","progress","setProgress","useState","handleScroll","useCallback","requestAnimationFrame","top","current","getBoundingClientRect","innerHeight","window","minMax","useEffect","addEventListener","removeEventListener","style","useMemo","lu","ParallaxBox","index","transform","FluidType","props","minFontSize","maxFontSize","center","Hover","PADDING","GalleryImage","Img","Cover","injectIntl","siteTitle","get","post","title","name","intl","messages","gallery","raw","size","as","images","map","image","i","Fragment","key","id","m","l","flex","alignSelf","removePadding","alt","fluid","pageQuery"],"mappings":"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","file":"component---src-templates-gallery-tsx-3667d2a3c9d17ae5d772.js","sourcesContent":["var DEFAULT_OVERSHOOT_STRENGTH = 1.525;\n\nvar reversed = function reversed(easing) {\n  return function (p) {\n    return 1 - easing(1 - p);\n  };\n};\n\nvar mirrored = function mirrored(easing) {\n  return function (p) {\n    return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n  };\n};\n\nvar createReversedEasing = reversed;\nvar createMirroredEasing = mirrored;\n\nvar createExpoIn = function createExpoIn(power) {\n  return function (p) {\n    return Math.pow(p, power);\n  };\n};\n\nvar createBackIn = function createBackIn(power) {\n  return function (p) {\n    return p * p * ((power + 1) * p - power);\n  };\n};\n\nvar createAnticipateEasing = function createAnticipateEasing(power) {\n  var backEasing = createBackIn(power);\n  return function (p) {\n    return (p *= 2) < 1 ? 0.5 * backEasing(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n  };\n};\n\nvar linear = function linear(p) {\n  return p;\n};\n\nvar easeIn = /*#__PURE__*/createExpoIn(2);\nvar easeOut = /*#__PURE__*/reversed(easeIn);\nvar easeInOut = /*#__PURE__*/mirrored(easeIn);\n\nvar circIn = function circIn(p) {\n  return 1 - Math.sin(Math.acos(p));\n};\n\nvar circOut = /*#__PURE__*/reversed(circIn);\nvar circInOut = /*#__PURE__*/mirrored(circOut);\nvar backIn = /*#__PURE__*/createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = /*#__PURE__*/reversed(backIn);\nvar backInOut = /*#__PURE__*/mirrored(backIn);\nvar anticipate = /*#__PURE__*/createAnticipateEasing(DEFAULT_OVERSHOOT_STRENGTH);\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\n\nvar bounceOut = function bounceOut(p) {\n  var p2 = p * p;\n  return p < BOUNCE_FIRST_THRESHOLD ? 7.5625 * p2 : p < BOUNCE_SECOND_THRESHOLD ? 9.075 * p2 - 9.9 * p + 3.4 : p < BOUNCE_THIRD_THRESHOLD ? ca * p2 - cb * p + cc : 10.8 * p * p - 20.52 * p + 10.72;\n};\n\nvar bounceIn = function bounceIn(p) {\n  return 1.0 - bounceOut(1.0 - p);\n};\n\nvar bounceInOut = function bounceInOut(p) {\n  return p < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0)) : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\n\nvar NEWTON_ITERATIONS = 8;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\nvar K_SPLINE_TABLE_SIZE = 11;\nvar K_SAMPLE_STEP_SIZE = 1.0 / (K_SPLINE_TABLE_SIZE - 1.0);\nvar FLOAT_32_SUPPORTED = typeof Float32Array !== 'undefined';\n\nvar a = function a(a1, a2) {\n  return 1.0 - 3.0 * a2 + 3.0 * a1;\n};\n\nvar b = function b(a1, a2) {\n  return 3.0 * a2 - 6.0 * a1;\n};\n\nvar c = function c(a1) {\n  return 3.0 * a1;\n};\n\nvar getSlope = function getSlope(t, a1, a2) {\n  return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\n\nvar calcBezier = function calcBezier(t, a1, a2) {\n  return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\n\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n  var sampleValues = FLOAT_32_SUPPORTED ? new Float32Array(K_SPLINE_TABLE_SIZE) : new Array(K_SPLINE_TABLE_SIZE);\n\n  var binarySubdivide = function binarySubdivide(aX, aA, aB) {\n    var i = 0;\n    var currentX;\n    var currentT;\n\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n      if (currentX > 0.0) {\n        aB = currentT;\n      } else {\n        aA = currentT;\n      }\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n    return currentT;\n  };\n\n  var newtonRaphsonIterate = function newtonRaphsonIterate(aX, aGuessT) {\n    var i = 0;\n    var currentSlope = 0;\n    var currentX;\n\n    for (; i < NEWTON_ITERATIONS; ++i) {\n      currentSlope = getSlope(aGuessT, mX1, mX2);\n\n      if (currentSlope === 0.0) {\n        return aGuessT;\n      }\n\n      currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n\n    return aGuessT;\n  };\n\n  var calcSampleValues = function calcSampleValues() {\n    for (var i = 0; i < K_SPLINE_TABLE_SIZE; ++i) {\n      sampleValues[i] = calcBezier(i * K_SAMPLE_STEP_SIZE, mX1, mX2);\n    }\n  };\n\n  var getTForX = function getTForX(aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = K_SPLINE_TABLE_SIZE - 1;\n    var dist = 0.0;\n    var guessForT = 0.0;\n    var initialSlope = 0.0;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += K_SAMPLE_STEP_SIZE;\n    }\n\n    --currentSample;\n    dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    guessForT = intervalStart + dist * K_SAMPLE_STEP_SIZE;\n    initialSlope = getSlope(guessForT, mX1, mX2);\n\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + K_SAMPLE_STEP_SIZE);\n    }\n  };\n\n  calcSampleValues();\n\n  var resolver = function resolver(aX) {\n    var returnValue;\n\n    if (mX1 === mY1 && mX2 === mY2) {\n      returnValue = aX;\n    } else if (aX === 0) {\n      returnValue = 0;\n    } else if (aX === 1) {\n      returnValue = 1;\n    } else {\n      returnValue = calcBezier(getTForX(aX), mY1, mY2);\n    }\n\n    return returnValue;\n  };\n\n  return resolver;\n}\n\nexport { reversed, mirrored, createReversedEasing, createMirroredEasing, createExpoIn, createBackIn, createAnticipateEasing, linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, bounceOut, bounceIn, bounceInOut, cubicBezier };","import styled from \"styled-components\";\nimport React from \"react\";\nimport {minMax} from \"../utils/number\";\nimport {useGrid} from \"./grid\";\nimport {easeIn, easeOut} from \"@popmotion/easing\";\n\nexport interface ParallaxProps {\n\tinterpolate(progress: number): React.CSSProperties;\n\tboundary?: number;\n}\n\nconst ParallaxWrapper = styled.div`\n\tposition: relative;\n\tz-index: 1;\n`;\n\nconst ParallaxInner = styled.div`\n\tposition: relative;\n`;\n\nexport const Parallax: React.FC<ParallaxProps> = ({children, interpolate, boundary = 0}) => {\n\tconst {viewport} = useGrid();\n\tconst ref = React.useRef<HTMLDivElement>();\n\tconst [progress, setProgress] = React.useState(0);\n\tconst handleScroll = React.useCallback(() => {\n\t\trequestAnimationFrame(() => {\n\t\t\tconst {top} = ref.current.getBoundingClientRect();\n\t\t\tconst {innerHeight} = window;\n\t\t\tconst progress = minMax(0, 1, 1 - (top - boundary) / (innerHeight - boundary * 2));\n\t\t\tsetProgress(progress);\n\t\t});\n\t}, [ref]);\n\tReact.useEffect(() => {\n\t\thandleScroll();\n\t\twindow.addEventListener(\"scroll\", handleScroll);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"scroll\", handleScroll);\n\t\t};\n\t}, [handleScroll]);\n\tconst style = React.useMemo(() => (viewport.lu ? interpolate(progress) : {}), [\n\t\tinterpolate,\n\t\tprogress,\n\t\tviewport\n\t]);\n\n\treturn (\n\t\t<ParallaxWrapper ref={ref}>\n\t\t\t<ParallaxInner style={style}>{children}</ParallaxInner>\n\t\t</ParallaxWrapper>\n\t);\n};\nexport const ParallaxBox: React.FC<{index: number}> = ({children, index}) => {\n\tconst interpolate = React.useCallback(\n\t\t(progress: number): React.CSSProperties => ({\n\t\t\ttransform: `translate3d(${0}%,${\n\t\t\t\t((index % 2 ? easeIn : easeOut)(1 - progress) * 100) / ((index % 3) + 2)\n\t\t\t}%, 0)`\n\t\t}),\n\t\t[index]\n\t);\n\treturn (\n\t\t<Parallax interpolate={interpolate} boundary={200}>\n\t\t\t{children}\n\t\t</Parallax>\n\t);\n};\n","import styled from \"styled-components\";\n\nconst FluidType = styled.div<{\n\tminFontSize: number;\n\tmaxFontSize: number;\n\tcenter?: boolean;\n}>`\n\t--min-font-size: ${props => props.minFontSize};\n\t--max-font-size: ${props => props.maxFontSize};\n\t--min-width: 320;\n\t--max-width: 1280;\n\tmargin: 0;\n\tline-height: 1;\n\tfont-family: magneta, serif;\n\ttext-align: ${props => (props.center ? \"center\" : \"left\")};\n\tfont-size: calc(\n\t\tvar(--min-font-size) * 1px + (var(--max-font-size) - var(--min-font-size)) *\n\t\t\t((100vw - var(--min-width) * 1px) / (var(--max-width) - var(--min-width)))\n\t);\n`;\n\nexport default FluidType;\n","import styled from \"styled-components\";\nimport {PADDING} from \"./grid\";\nimport Img from \"gatsby-image\";\nexport const Hover = styled.div`\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tpadding: 0 calc(var(${PADDING}) * 1px);\n\tdisplay: flex;\n\talign-items: center;\n\talign-content: center;\n\ttransform: translate3d(0, 100%, 0);\n\ttransition: transform 0.25s ease-in-out;\n\tbackground: white;\n\tcolor: black;\n`;\n\nexport const GalleryImage = styled(Img)`\n\twidth: 100%;\n\ttransform: scale3d(1.01, 1.01, 1);\n\ttransition: transform 2s ease-in-out;\n`;\n\nexport const Cover = styled.div`\n\twidth: 100%;\n\tposition: relative;\n\tdisplay: flex;\n\toverflow: hidden;\n\tbox-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);\n\tborder-radius: 5px;\n\ttransition: box-shadow 0.25s ease-in-out;\n\twill-change: box-shadow;\n\t&:hover {\n\t\tbox-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22);\n\t\t${Hover} {\n\t\t\ttransform: translate3d(0, 0, 0);\n\t\t}\n\t\t${GalleryImage} {\n\t\t\ttransform: scale3d(1.1, 1.1, 1);\n\t\t}\n\t}\n`;\n","import React from \"react\";\nimport {graphql} from \"gatsby\";\nimport get from \"lodash/get\";\nimport {injectIntl} from \"gatsby-plugin-intl\";\nimport Layout from \"../components/layout\";\nimport {Helmet} from \"react-helmet\";\nimport {Box, Column, Row} from \"../components/grid\";\nimport {Spacing} from \"../components/spacing\";\nimport {ParallaxBox} from \"../components/parallax\";\nimport {Cover, GalleryImage} from \"../components/cover\";\nimport FluidType from \"../components/fluid-type\";\n\nfunction GalleryTemplate(props: any) {\n\tconst siteTitle = get(props, \"data.site.siteMetadata.title\");\n\tconst post = get(props, \"data.contentfulGallery\");\n\treturn (\n\t\t<Layout>\n\t\t\t<Helmet title={`${post.name} | ${props.intl.messages.gallery} | ${siteTitle}`} />\n\t\t\t<Row>\n\t\t\t\t<Column raw>\n\t\t\t\t\t<Spacing size=\"l\" />\n\t\t\t\t\t<FluidType as=\"h1\" minFontSize={40} maxFontSize={100} center>\n\t\t\t\t\t\t{post.name}\n\t\t\t\t\t</FluidType>\n\t\t\t\t\t<Spacing size=\"m\" />\n\t\t\t\t</Column>\n\t\t\t\t{post.images.map((image, i) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<React.Fragment key={`${image.id}:${i}`}>\n\t\t\t\t\t\t\t<Column m={i % 2} l={i % 2} />\n\t\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\t\tm={(i % 3) + (i % 3 === 0 ? 3 : 2)}\n\t\t\t\t\t\t\t\tl={(i % 3) + (i % 3 === 2 ? 5 : 4)}\n\t\t\t\t\t\t\t\tflex>\n\t\t\t\t\t\t\t\t<Box alignSelf=\"center\" removePadding>\n\t\t\t\t\t\t\t\t\t<Spacing size=\"m\" />\n\t\t\t\t\t\t\t\t\t<ParallaxBox index={i}>\n\t\t\t\t\t\t\t\t\t\t<Cover>\n\t\t\t\t\t\t\t\t\t\t\t<GalleryImage alt={image.title} fluid={image.fluid} />\n\t\t\t\t\t\t\t\t\t\t</Cover>\n\t\t\t\t\t\t\t\t\t</ParallaxBox>\n\t\t\t\t\t\t\t\t\t<Spacing size=\"m\" />\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Column>\n\t\t\t\t\t\t\t<Column m={i % 2} l={1} />\n\t\t\t\t\t\t\t<Column m={(i + 1) % 3} l={(i + 1) % 3} />\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Row>\n\t\t</Layout>\n\t);\n}\n\nexport default injectIntl(GalleryTemplate);\n\nexport const pageQuery = graphql`\n\tquery GalleryBySlug($slug: String!, $locale: String) {\n\t\tsite {\n\t\t\tsiteMetadata {\n\t\t\t\ttitle\n\t\t\t}\n\t\t}\n\t\tcontentfulGallery(slug: {eq: $slug}, node_locale: {eq: $locale}) {\n\t\t\tid\n\t\t\ttitle\n\t\t\tname\n\t\t\timages {\n\t\t\t\tid\n\t\t\t\ttitle\n\t\t\t\tdescription\n\t\t\t\tfluid(maxWidth: 800) {\n\t\t\t\t\t...GatsbyContentfulFluid_withWebp\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n"],"sourceRoot":""}